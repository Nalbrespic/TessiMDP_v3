
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Etat Transport {% endblock %}</title>
    {% block stylesheets %}

        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    {% endblock %}
    <style>
        @page {
            margin:50px 0 25px 0;
            font-size: 12px;
        }
        .col-25{
            /*width: 25%;*/
            float: left;
        }
        h4{text-align: center}
        .row{display: flex; flex-wrap: wrap;margin-top: 30px; width: 100%;}
        tbody:before, tbody:after { display: none; }
        td{text-align: center; font-size: 12px; line-height: 12px;border-bottom: 1px solid #000;margin-right: 5px  }
        #idTableau1{display: flex;justify-content: center}
        #tableau2{margin-left: 20px;}
        #divTableaux{margin-left: 50px}
        /*table{border: 1px solid black}*/

    </style>
</head>
{%  block body %}

    <div style="font-family: 'Roboto', sans-serif;">
        <div class="container">
            <div class="blockTitle" style="text-align: center">
                <h2 style="font-size: 24px">Etat des Transports {{ month }}</h2>
                <h3 style="font-size: 20px">Client: {{ client.nomclient }}</h3>
                <h3 style="font-size: 20px">Opération: {{ appli.appliname }}</h3>
            </div>
            <div class="row" style="display: flex; justify-content: center; ">
                <div class="col-md-8" id="tableau1" style="width: 300px; margin: auto;border: 1px solid black; border-radius: 15px; ">
                    <h4>Colis selon le mode de Transport</h4>
                    <table style="font-size: 12px;padding: 10px; margin-left: 10px" >
                        <tr style="font-weight: bold;">
                            <td>Type de transport</td>
                            <td>Nombre de commandes</td>
                        </tr>
                        <tbody>
                        {% for key, value in nbreTypeTransport %}
                            <tr style="border-bottom: 1px solid #606060" >
                                <td style="text-align: center;">{{ key }}</td><td style="text-align: right">{{ value }}</td>
                            </tr>
                        {% endfor %}
                        <tr class="success" style="font-weight: bold; border: black 1px solid;"><td style="text-align: center; border-width: 1px;">TOTAL</td><td style="text-align: right;border-width: 1px;">{{ totalBl }}</td></tr>

                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row" id="divTableaux" style="margin-top: 30px;">
                {% for key, value in tranches %}
                    {% if tranches[key] != [] %}
                        <div class="col-25" id="tableau2" style="width:200px; border: 1px solid black; border-radius: 15px;">
                            <h4>Colis expédiés en {{ key }}</h4>
                            <table class="table table-striped table-condensed" style="margin: 10px">
                                <tr>
                                    <td style="font-weight: bold">Tranche de poids en g</td><td style="font-weight: bold">nombre de commandes</td>
                                </tr>
                                <tbody>
                                {% for tr in tranches[key]  %}
                                    {% if (tr['nombreBl'] != 0) %}
                                    <tr>
                                        <td>{{ tr['poidsMax'] }}</td><td>{{ tr['nombreBl']}}</td>
                                    </tr>
                                    {% endif %}
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>

    </div>
    </div>
{% endblock %}

</html>